<div data-ng-include src="'views/includes/connection.html'"></div>
<section data-ng-controller="AssetsController" data-ng-init="findOne()">
    <div id="search-form-mobile" class="visible-xs" data-ng-include src="'views/includes/search.html'"></div>
    <!--header start-->
    <h1 class="hidden-xs">
        <img  src="{{assets.bigLogo || './img/assetsIcon/logo_96.png' }}" style="width: 40px"/>
        <span translate>Assets Summary</span>
    </h1>
    <div class="text-muted" data-ng-if="!assets.assetShortName && loading==false">
        <span translate>Loading Assets Detail Information</span>
        <span class="loader-gif"></span>
    </div>
    <!--header end-->

    <!-- PC Detail start-->
    <div data-ng-if="assets.assetShortName" class="hidden-xs">
        <div class="row">
            <div class="col-md-6">
                <table class="table" style="table-layout: fixed">
                    <tbody>
                    <tr>
                        <td class="col-md-4"><strong translate>Asset Name</strong></td>
                        <td class="text-right text-muted">{{assets.assetName}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Issue Time</strong></td>
                        <td class="text-right text-muted">
                           <span data-ng-show="assets.issueTime > 0">{{assets.issueTime * 1000 | date:'yyyy-MM-dd HH:mm:ss'}}</span>
                        </td>
                    </tr>
                    <tr>
                        <td><strong translate>Total Issued</strong></td>
                        <td class="text-right text-muted">{{assets.assetTotalAmount +" " +assets.assetUnit}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Destroyed</strong></td>
                        <td class="text-right text-muted">{{assets.isDestory | translate}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Candy Amount</strong></td>
                        <td class="text-right text-muted">{{assets.candyTotalAmount +" " +assets.assetUnit}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-6">
                <table class="table">
                    <tbody>
                    <tr>
                        <td><strong translate>Asset Short Name</strong></td>
                        <td class="text-right text-muted">{{assets.assetShortName}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Sponsor</strong></td>
                        <td class="text-right text-muted">{{assets.adminSafeAddress}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Already Issue</strong></td>
                        <td class="text-right text-muted">{{assets.alreadyIssueAmount +" " +assets.assetUnit}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Destory Amount</strong></td>
                        <td class="text-right text-muted">{{assets.destoryTotalAmout +" " +assets.assetUnit}}</td>
                    </tr>
                    <tr>
                        <td><strong translate>Decimal</strong></td>
                        <td class="text-right text-muted">{{assets.assetDecimals}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <table class="table" style="word-break: break-all;word-wrap: break-word;">
                    <tbody>
                        <tr>
                            <td class="col-md-1"><strong translate>Describe</strong></td>
                            <td class="text-muted">{{assets.assetDesc}}</td>
                        </tr>
                        <tr>
                            <td class="col-md-1"><strong translate>Remarks</strong></td>
                            <td class="text-muted ">{{assets.remarks}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--</div>-->

        <!-- PC asset transaction all list start -->
        <div data-ng-init="getAssetsTxAllList(1)">
            <div>
                <h3 translate>All Transactions</h3>
                <table style="table-layout:fixed" class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th class="col-md-3" translate>Date</th>
                            <th class="col-md-3" translate>Volume of TX</th>
                            <th class="col-md-6" translate>Transaction ID</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-show="loading">
                            <td colspan="5"><span translate>Loading...</span>
                                <span class="loader-gif"></span>
                            </td>
                        </tr>
                        <tr class="fader" data-ng-repeat="asset in assetsAllList">
                            <td>{{asset.issueTime * 1000 | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                            <td>{{asset.totalIssued + ""}}</td>
                            <td style="overflow: hidden;text-overflow:ellipsis;"><a href="tx/{{asset.txid}}">{{asset.txid}}</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- PC asset transaction all list end -->

        <!-- 宽度小于 768px 时隐藏 PC all list buts start-->
        <div class="hidden-xs" data-ng-show="maxPage > 1">
            <div class="col-md-7 col-sm-7">
                <div class="text-left">
                    <a class="btn btn-primary" data-ng-click="getAssetsTxAllList(prePage)" data-ng-if="maxPage > 3" translate>Previous</a>
                    <a class="btn {{i.class}}" data-ng-click="getAssetsTxAllList(i.num)" data-ng-show="pageBut.length > 1" style="margin:0px 5px;" data-ng-repeat='i in pageBut'>{{i.num}}</a>
                    <a class="btn btn-primary" data-ng-click="getAssetsTxAllList(nextPage)" data-ng-if="maxPage > 3" translate>Next</a>
                </div>
            </div>
            <div class="col-md-5 col-sm-5 text-right">
                <label style="font-size: 14px;margin-top: 5px;" class="col-md-5 col-sm-5 control-lable"><span translate>Page Count</span>：{{maxPage}}</label>
                <div class="col-md-4 col-sm-4">
                    <input data-ng-change="inputOnChange()" data-ng-model="jumpPage" type="number" id="jumpInput" class="form-control"/>
                </div>
                <button class="btn btn-success col-md-3" data-ng-click="jumpPageBut('detail')" translate>Jump To</button>
            </div>
        </div>
        <!--pc buts all list end-->
    </div>
    <!--pc detail End-->

    <!--mobile detail start -->
    <div class="visible-xs">
        <h3 class="device_h3"><span class="ng-scope" translate>Assets Summary</span></h3>
        <ul class="device_ul">
            <li>
                <div class="device_name"><strong translate>Asset Name</strong></div>
                <div class="device_text text-muted">{{assets.assetName}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Issue Time</strong></div>
                <div class="device_text text-muted">{{(assets.issueTime * 1000) | date:'yyyy-MM-dd HH:mm:ss'}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Total Issued</strong></div>
                <div class="device_text text-muted">{{assets.assetTotalAmount +" " +assets.assetUnit}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Is it Destroyed</strong></div>
                <div class="device_text text-muted">{{assets.isDestory | translate}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Candy Amount</strong></div>
                <div class="device_text text-muted">{{assets.candyTotalAmount}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Asset Short Name</strong></div>
                <div class="device_text text-muted">{{assets.assetShortName}}</div>
            </li>
            <li>
                <div class="device_name" style="width:15%;">
                    <strong translate>Sponsor</strong>
                </div>
                <div class="device_text text-muted js_device" style="width:85%;">
                    <span class="device_span" >{{assets.adminSafeAddress}}</span>
                </div>
            </li>
            <li>
                <div class="device_name"><strong translate>Already Issue</strong></div>
                <div class="device_text text-muted">{{assets.alreadyIssueAmount}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Destory Amount</strong></div>
                <div class="device_text text-muted">{{assets.destoryTotalAmout}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Decimal</strong></div>
                <div class="device_text text-muted">{{assets.assetDecimals }}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Describe</strong></div>
                <div class="device_box text-muted">{{assets.assetDesc}}</div>
            </li>
            <li>
                <div class="device_name"><strong translate>Remarks</strong></div>
                <div class="device_box text-muted">{{assets.remarks}}</div>
            </li>
        </ul>

        <!--mobile detail end -->
    <!--发行记录 mobile all start-->
    <div class="visible-xs">
        <h3 class="device_h3">
            <span class="ng-scope" translate>All Transactions</span>
        </h3>
        <div class="detail_box" data-ng-repeat="asset in assetsAllList">
            <ul class="device_ul">
                <li>
                    <div class="device_name"><strong translate>Transaction ID</strong></div>
                    <div class="device_text text-muted js_device">
                        <span class="icon_click" data-ng-show="ExpandedTxID == true" data-ng-click="ExpandedTxID = false"><img src="./img/images/icon-add.png"></span>
                        <span class="icon_click_minus" data-ng-show="!ExpandedTxID" data-ng-click="ExpandedTxID = true"><img src="./img/images/icon-minus.png"></span>
                        <span class="device_span device_show" data-ng-show="ExpandedTxID"><a href="tx/{{asset.txid}}">{{asset.txid.slice(0,10) + "......." +  asset.txid.slice(55,asset.txid.length)}}</a></span>
                        <span class="device_span device_hidden" data-ng-show="!ExpandedTxID"><a href="tx/{{asset.txid}}">{{asset.txid}}</a></span>
                    </div>
                </li>
                <li>
                    <div class="device_name"><strong translate>Volume of TX</strong></div>
                    <div class="device_text text-muted">{{asset.totalIssued}}</div>
                </li>
                <li>
                    <div class="device_name"><strong translate>Date</strong></div>
                    <div class="device_text text-muted">{{asset.issueTime * 1000 | date:'yyyy-MM-dd HH:mm:ss'}}</div>
                </li>
            </ul>
        </div>
    </div>
    <!--发行记录 mobile all end-->

    <!-- 宽度大于768px 时隐藏 mobile buts all start-->
    <div class="pages visible-xs" data-ng-show="maxPage > 1">
        <span class="pages_right">
            <a class="{{i.class}}" data-ng-click="getAssetsTxAllList(i.num)" data-ng-show="pageButM.length > 1" data-ng-repeat='i in pageButM'>{{i.num}}</a>
        </span>
        <span translate>Page Count</span>：{{maxPage}}
    </div>
    </div>
    <!-- 宽度大于768px 时隐藏 mobile buts all end-->
</section>