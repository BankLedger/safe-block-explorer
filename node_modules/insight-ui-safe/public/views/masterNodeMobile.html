<div data-ng-include src="'views/includes/connection.html'"></div>
<!-- 这是手机端显示界面， 不是app打开的界面 望周知。 -->

<div data-ng-controller="MastrtnodeMobileController" data-ng-init="Mobile()">
    <div id="search-form-mobile" class="visible-xs" data-ng-include src="'views/includes/search.html'"></div>

    <div class="row">
        <div class="col-xs-12 col-md-11 ">
            <div class=" form-group" style="margin-top: 30px">
                <h1>
                    <span class="navbar-left col-xs-12" translate>Masternodes</span>
                </h1>
                <div class="col-xs-12" style="margin-top:15px">
                    <div class="navbar-left col-xs-8" style="margin-top: 20px;">
                        <input type="text" data-ng-model="search" class="form-control"
                               data-ng-keyup="($event.which === 13)?searchFunc():0"
                               placeholder="{{'ip or address' |translate}}"/>
                    </div>
                    <div class="navbar-left col-xs-4" style="margin-top: -15px">
                        <div class="btn btn-default" style="border-radius: 50%; height: 95px;background: -webkit-linear-gradient(bottom, green {{rate-20}}%,white {{rate+5}}%);">
                            <div style="margin-top: 15px;"> {{rate}}% </div>
                            <div> ENABLED </div>
                        </div>
                    </div>
                </div>

                <ul class="nav nav-tabs">
                    <li class="{{MasterNodeListTabClass}}" data-ng-click="listmobile(1)">
                        <a data-toggle="tab" translate> Masternodes </a>
                    </li>
                    <li class="{{followNodeListTabClass}}" data-ng-click="followNode(1)">
                        <a data-toggle="tab" translate> Watchlisted Masternodes </a>
                    </li>
                </ul>
                <div class="row" data-ng-show="!masternode.length && loading==false && MasterNodeListTabClass">
                    <h2 class="text-center text-muted" translate>No Master Node Yet.</h2>
                </div>

                <table style="table-layout:fixed" class="table table-hover table-striped tab-content">
                    <thead>
                        <tr>
                            <th class="col-xs-4" translate>Collateral Safe Address</th>
                            <th translate class="col-xs-3 ">IP</th>
                            <th class="text-right col-xs-3" translate>Status</th>
                            <th class="text-right col-xs-2" translate>Add to Watchlist</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-show="loading">
                            <td colspan="5"><span translate>Waiting for Master Node...</span>
                                <span class="loader-gif"></span>
                            </td>
                        </tr>
                        <tr class="fader" data-ng-repeat='m in masternode'>
                            <td >{{m.address.slice(0,5)+"..."+m.address.slice(28,m.address.length)}}</td>
                            <td>{{m.ip}}</td>
                            <td style="overflow:hidden;white-space:nowrap;text-overflow:ellipsis;" class="text-right">{{m.status}}</td>
                            <td class="text-right">
                                <img src="./img/icon/no_follow.png" width="40px" data-ng-show="!isFollow && !m.beforeFollow" data-ng-click="insert(m)" />
                                <img src="./img/icon/follow_add.png" width="40px" data-ng-show="!isFollow && m.beforeFollow" data-ng-click="delete(m)"/>
                                <img src="./img/icon/follow_del.png" width="40px" data-ng-show="isFollow" data-ng-click="delete(m)"/>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="pages" data-ng-show="maxPage > 1">
                    <span class="pages_right">
                        <a class="{{i.class}}" data-ng-click="judgeIsFollow(i.num)" data-ng-show="pageBut.length > 1" data-ng-repeat='i in pageBut'>{{i.num}}</a>
                    </span>
                <span translate>Page Count</span>：{{maxPage}}
            </div>
        </div>
    </div>
</div>